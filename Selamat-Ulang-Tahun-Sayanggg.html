<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday SayaaangggðŸ’—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&family=Quicksand:wght@400;600&family=Caveat:wght@700&display=swap');

        /* HAIKYUU THEME (KARASUNO) COLORS */
        :root {
            --bg-color: #11141f;       /* Hitam Deep (Karasuno Jersey) */
            --accent-light: #fff7ed;   /* Oranye sangat muda */
            --accent-main: #f97316;    /* Oranye Terang (Karasuno Orange) */
            --accent-dark: #c2410c;    /* Oranye Gelap */
            --text-big: #f97316;       /* Oranye untuk Judul */
            --text-small: #fb923c;     /* Oranye Muda */
            --card-bg: rgba(255, 255, 255, 0.95);
        }

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; 
            background-color: var(--bg-color);
            font-family: 'Quicksand', sans-serif;
            color: #1f2937;
        }

        .font-big { font-family: 'Fredoka', sans-serif; font-weight: 700; color: var(--text-big); }
        .font-small { font-family: 'Caveat', cursive; color: var(--accent-dark); font-size: 20px; }
        .font-handwriting { font-family: 'Caveat', cursive; }

        .sakura-canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 10;
        }

        .page-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            text-align: center;
            z-index: 20;
            justify-content: center;
        }

        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(8px);
            padding: 2.5rem;
            border-radius: 2rem;
            border: 4px solid rgb(255, 106, 7);
            box-shadow: 0 20px 25px -5px rgba(255, 104, 3, 0.3), 0 10px 10px -5px rgba(243, 92, 4, 0.2);
            max-width: 350px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .glass-card::after {
            content: '';
            position: absolute;
            bottom: -50px; 
            left: -25%; 
            width: 150%;
            height: 230px;
            background: linear-gradient(to top, #ff720c, #ff6600);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.2;
        }

        .cassette-container {
            width: 100%;
            max-width: 280px;
            height: 170px;
            perspective: 1000px;
            margin: 0 auto 20px auto;
        }

        .cassette {
            width: 100%;
            height: 100%;
            background: #0B0D14; 
            border-radius: 12px;
            position: relative;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            border: 2px solid #F29C46;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
        }

        .cassette-container:nth-child(1) .cassette { transform: rotateZ(-3deg); }
        .cassette-container:nth-child(2) .cassette { transform: rotateZ(2deg); }
        .cassette-container:nth-child(3) .cassette { transform: rotateZ(-1.5deg); }

        .cassette-container:hover .cassette {
            transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) translateY(-10px);
            box-shadow: 0 20px 30px rgba(0,0,0,0.4);
            z-index: 50;
        }

        .screw {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #F29C46;
            border-radius: 50%;
            box-shadow: inset 1px 1px 2px rgba(0,0,0,0.5);
        }
        .screw.top-l { top: 8px; left: 8px; }
        .screw.top-r { top: 8px; right: 8px; }
        .screw.bot-l { bottom: 8px; left: 8px; }
        .screw.bot-r { bottom: 8px; right: 8px; }

        .cassette-label {
            width: 90%;
            height: 75%;
            background: #f8fafc;
            margin-top: 12px;
            border-radius: 6px;
            border: 1px solid #cbd5e1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 10px;
            background-image: repeating-linear-gradient(white, white 21px, #ffedd5 22px); 
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
        }

        .cassette-window {
            width: 100px;
            height: 35px;
            background: #0f172a;
            border-radius: 4px;
            margin-top: 8px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border: 2px solid #334155;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.8);
            position: absolute;
            bottom: 15px;
        }

        .sprocket {
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            position: relative;
            animation: rotate-sprocket 4s linear infinite;
            animation-play-state: paused;
        }
        .playing .sprocket { animation-play-state: running; }

        @keyframes rotate-sprocket {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .sprocket::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 14px; height: 14px;
            background: #0f172a;
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
        }

        .cassette-bottom {
            position: absolute;
            bottom: 0;
            width: 65%;
            height: 22px;
            background: #0B0D14;
            border-top: 2px solid #F29C46;
            border-left: 2px solid #F29C46;
            border-right: 2px solid #F29C46;
            border-radius: 8px 8px 0 0;
        }

        .hidden-page {
            display: none !important;
        }

        .loading-bar-container {
            width: 100%;
            height: 12px;
            background: #4b5563;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid var(--accent-main);
            position: relative;
            z-index: 5;
        }

        .loading-bar-fill {
            height: 100%;
            width: 0%;
            background: var(--accent-main);
            transition: width 0.1s linear;
        }

        .dot-loader span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--accent-main);
            animation: dotFlashing 1s infinite alternate;
        }
        .dot-loader span:nth-child(2) { animation-delay: 0.2s; }
        .dot-loader span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes dotFlashing {
            0% { opacity: 0.2; }
            100% { opacity: 1; }
        }

        .typewriter {
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            border-right: 2px solid var(--accent-main);
            width: 0;
            animation: typing 3s steps(40, end) forwards, blink .75s step-end infinite;
        }

        @keyframes typing { from { width: 0 } to { width: 100% } }
        @keyframes blink { from, to { border-color: transparent } 50% { border-color: var(--accent-main); } }

        .photo-grid {
            display: grid;
            grid-template-columns: 1fr; 
            gap: 20px;
            width: 100%;
            max-width: 320px;
            max-height: 55vh;
            overflow-y: auto;
            padding: 15px;
            scroll-behavior: smooth;
        }

        .photo-card {
            background: white;
            border-radius: 12px;
            padding: 10px;
            padding-bottom: 25px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            border: 1px solid #e2e8f0;
        }

        .photo-card:active {
            transform: scale(0.95) rotate(-2deg);
        }

        .photo-card img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            display: block;
        }

        .photo-grid::-webkit-scrollbar { width: 4px; }
        .photo-grid::-webkit-scrollbar-thumb { background: var(--accent-main); border-radius: 10px; }
        
        .envelope-emoji {
            font-size: 8rem;
            line-height: 1;
            display: block;
            margin-bottom: 1rem;
            filter: drop-shadow(0 10px 15px rgba(249, 115, 22, 0.3));
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .reason-card {
            background: linear-gradient(to bottom, #ffffff 0%, #ffedd5 100%);
            border-radius: 1.5rem;
            padding: 2.5rem 1.5rem 1.5rem 1.5rem;
            box-shadow: 0 8px 15px -3px rgba(249, 115, 22, 0.1), 0 4px 6px -2px rgba(249, 115, 22, 0.05);
            border: 2px solid white;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 140px;  
            transition: all 0.3s ease;
        }
        
        .reason-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-main);
            box-shadow: 0 15px 20px -5px rgba(249, 115, 22, 0.2);
        }

        .reason-icon {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 45px;
            height: 45px;
            background: var(--accent-main);
            border: 4px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .btn-back {
            background: white;
            color: var(--accent-main);
            border: 2px solid var(--accent-main);
            padding: 0.5rem 1.5rem;
            border-radius: 9999px;
            font-weight: bold;
            font-size: 0.875rem;
            margin-top: 1rem;
            transition: all 0.2s;
        }
        .btn-back:hover {
            background: var(--accent-light);
        }

        .fade-in-page {
            animation: pageAppear 0.8s ease-out forwards;
        }

        @keyframes pageAppear {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(10px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
    </style>
</head>
<body>

    <canvas class="sakura-canvas" id="sakura"></canvas>
    <audio id="bg-music" loop></audio>

    <!-- PAGE 0: START -->
    <div id="page0" class="page-container">
        <div class="glass-card">
            <img src="https://media.tenor.com/sYB-Mm5amOQAAAAj/haikyuu.gif" alt="Sticker" class="w-32 h-32 rounded-lg mb-2 relative z-10">
            <h1 class="font-big text-xl mb-2 relative z-10">Something for you...</h1>
            <p class="font-small text-lg mb-8 relative z-10">Click the button below to start your happiness</p>
            <button onclick="initExperience()" class="bg-orange-500 text-white px-10 py-3 rounded-full font-bold shadow-lg hover:scale-105 active:scale-95 transition w-full relative z-10" style="background-color: var(--accent-main);">
                Start âœ¨
            </button>
        </div>
    </div>

    <!-- PAGE 1: LOADING -->
    <div id="page1" class="page-container hidden-page">
        <div class="glass-card">
            <img src="https://media.tenor.com/Pc-RWe8rfTIAAAAi/cute-boy.gif" alt="Sticker" class="w-32 h-32 rounded-lg mb-3 relative z-10">
            <h1 class="font-big text-2xl mb-1 relative z-10">A Birthday Moment</h1>
            <p class="font-small text-md mb-8 relative z-10">is being prepared for you...</p>
            
            <div class="loading-bar-container mb-4">
                <div id="loader" class="loading-bar-fill"></div>
            </div>

            <div class="dot-loader space-x-2 relative z-10">
                <span></span><span></span><span></span>
            </div> 
        </div>
    </div>

    <!-- PAGE 2: WILL YOU BE MY VALENTINE -->
    <div id="page2" class="page-container hidden-page">
        <div class="glass-card">
            <p class="font-small text-sm mb-2 relative z-10">Hi, I have something special for you</p>
            <h2 class="font-big text-2xl mb-6 relative z-10">Happy Birthday Sayangg!</h2>
            
            <div class="w-full p-4 bg-orange-600 rounded-2xl shadow-xl text-white relative mb-8 z-10" style="background-color: var(--accent-dark);">
                <p class="text-sm italic">"A little reminder of how much more meaningful my life is with you in it."</p>
            </div>

            <div class="h-6 mb-8 relative z-10">
                <p class="typewriter text-orange-700 font-semibold text-xs" style="color: var(--accent-dark);">Click below when you're readyâœ¨</p>
            </div>

            <button onclick="nextPage(3)" class="bg-orange-500 text-white px-10 py-3 rounded-full font-bold shadow-lg hover:scale-105 active:scale-95 transition w-full relative z-10" style="background-color: var(--accent-main);">
                Open This! ðŸ§¡
            </button>
        </div>
    </div>

    <!-- PAGE 3: VALENTINE NOTE -->
    <div id="page3" class="page-container hidden-page">
        <p class="font-small text-xl mb-1">Because today feels just right</p>
        <h2 class="font-big text-3xl mb-6">A Birthday Note ðŸ§¡</h2> 
        
        <div class="w-full max-w-xs p-8 bg-orange-50 rounded-3xl border-4 border-orange-600 relative shadow-xl" style="background-color: var(--accent-light); border-color: #F29C46;">
            <img src="https://media.tenor.com/iJsYD-O1y18AAAAi/%D7%93%D7%95%D7%9B%D7%9F%D7%A9%D7%99%D7%A4%D7%95%D7%93%D7%9F-standshippuden.gif" class="absolute -top-7 -right-5 w-16 h-16" alt="stiker">
            <img src="https://media.tenor.com/xXNzEkd7BYYAAAAi/yapapa-cat.gif" class="absolute -bottom-3 -left-4 w-16 h-16" alt="stiker">
 
            <div id="envelope-wrapper" class="flex flex-col items-center py-6">   
                <div class="envelope-emoji cursor-pointer hover:scale-110 transition-transform duration-300" onclick="openEnvelope()">ðŸ“©</div> 
                <p class="text-orange-600 font-bold text-lg mb-3" style="color: var(--accent-main);">Click the envelope!</p>
                <div class="bg-white/50 border-2 border-orange-300 px-6 py-2 rounded-full text-orange-600 font-bold text-sm shadow-sm" style="border-color: var(--accent-main); color: var(--accent-dark);">
                    Special Message ðŸ§¡
                </div>
            </div> 

            <div id="letter-opened" class="hidden flex flex-col items-center">
                <div class="bg-white p-4 rounded-xl text-left shadow-inner border border-orange-100 w-full mb-4">
                    <p id="type-p3" class="font-handwriting text-lg text-orange-800 leading-relaxed" style="color: #431407;"></p>
                    <p class="text-right mt-4 font-bold text-orange-500 text-xs italic" style="color: var(--accent-main);">- Yahyaaa</p>
                </div>  
                <div class="absolute -top-1 -left-4 w-12 h-12">ðŸ§¡</div>
                <div class="flex flex-col space-y-2 w-full">
                    <button id="btn-p3" onclick="nextPage(4)" class="hidden bg-orange-500 text-white px-6 py-2 rounded-full font-bold text-sm shadow" style="background-color: var(--accent-main);">Continue ðŸŽ¶</button>
                </div>
            </div> 
        </div> 
        <button onclick="nextPage(2)" class="btn-back">Back</button>  
    </div>

    <!-- PAGE 4: SONGS -->
    <div id="page4" class="page-container hidden-page">
        <h2 class="font-big text-2xl mb-6">Songs that remind me of our memories</h2>
        
        <div id="cassette-list" class="w-full max-w-xs mb-8 h-[55vh] overflow-y-auto px-4 pt-4">
            
            <div class="cassette-container" onclick="playSong('https://birthdaysx.github.io/Musik/an-art-galery.mp3', this)">
                <div class="cassette">
                    <div class="screw top-l"></div><div class="screw top-r"></div><div class="screw bot-l"></div><div class="screw bot-r"></div>
                    <div class="cassette-label">
                        <p class="font-handwriting font-bold text-orange-800 text-lg leading-tight">An Art Gallery Could Never Be As Unique As You</p>
                        <p class="font-handwriting text-orange-500 text-sm">Mrld</p>
                        <div class="cassette-window">
                            <div class="sprocket"></div>
                            <div class="sprocket"></div>
                        </div>
                    </div>
                    <div class="cassette-bottom"></div>
                </div>
            </div>

            <div class="cassette-container" onclick="playSong('https://birthdaysx.github.io/Musik/old-love.mp3', this)">
                <div class="cassette">
                    <div class="screw top-l"></div><div class="screw top-r"></div><div class="screw bot-l"></div><div class="screw bot-r"></div>
                    <div class="cassette-label">
                        <p class="font-handwriting font-bold text-orange-800 text-lg leading-tight">Old Love</p>
                        <p class="font-handwriting text-orange-500 text-sm">Yuji Putri Delia</p>
                        <div class="cassette-window">
                            <div class="sprocket"></div>
                            <div class="sprocket"></div>
                        </div>
                    </div>
                    <div class="cassette-bottom"></div>
                </div> 
            </div>

            <div class="cassette-container" onclick="playSong('https://birthdaysx.github.io/Musik/always-loved-you.mp3', this)">
                <div class="cassette">
                    <div class="screw top-l"></div><div class="screw top-r"></div><div class="screw bot-l"></div><div class="screw bot-r"></div>
                    <div class="cassette-label">
                        <p class="font-handwriting font-bold text-orange-800 text-lg leading-tight">I've Always Loved You</p>
                        <p class="font-handwriting text-orange-500 text-sm">Arash Buana</p>
                        <div class="cassette-window"> 
                            <div class="sprocket"></div>
                            <div class="sprocket"></div>
                        </div>
                    </div>
                    <div class="cassette-bottom"></div>
                </div>
            </div>

        </div>

        <div class="flex space-x-4">
            <button onclick="nextPage(3)" class="bg-white text-orange-500 border-2 border-orange-500 px-8 py-3 rounded-full font-bold shadow-lg" style="color: var(--accent-main); border-color: var(--accent-main);">Back</button>
            <button onclick="nextPage(5)" class="bg-orange-500 text-white px-10 py-3 rounded-full font-bold shadow-lg" style="background-color: var(--accent-main);">Continue ðŸ“¸</button>
        </div>
    </div>

    <!-- PAGE 5: GALLERY -->
    <div id="page5" class="page-container hidden-page">
        <h2 class="font-big text-3xl mb-4">Our Memories</h2> 
        <div class="photo-grid mb-6"> 
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g1.jpeg" alt="Memory 1"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g2.jpeg" alt="Memory 2"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g3.jpeg" alt="Memory 3"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g4.jpeg" alt="Memory 4"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g5.jpeg" alt="Memory 5"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g6.jpeg" alt="Memory 6"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g7.jpeg" alt="Memory 7"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g8.jpeg" alt="Memory 8"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g9.jpeg" alt="Memory 9"></div>
            <div class="photo-card" onclick="this.style.transform='scale(1.05) rotate(-1deg)'; setTimeout(()=>this.style.transform='', 400)"><img src="https://birthdaysx.github.io/Foto2/g10.jpeg" alt="Memory 10"></div>
            
        </div>
        <p class="italic text-xs text-orange-500 mb-4 px-10" style="color: var(--accent-main);">"Scroll down to see all our moments."</p>
        <div class="flex space-x-4">
            <button onclick="nextPage(4)" class="bg-white text-orange-500 border-2 border-orange-500 px-8 py-3 rounded-full font-bold shadow-lg" style="color: var(--accent-main); border-color: var(--accent-main);">Back</button>
            <button onclick="nextPage(6)" class="bg-orange-500 text-white px-10 py-3 rounded-full font-bold shadow-lg" style="background-color: var(--accent-main);">Continue âœ¨</button> 
        </div>
    </div>

    <!-- PAGE 6: WHY YOU MATTER -->
    <div id="page6" class="page-container hidden-page">
        <h2 class="font-big text-3xl mb-1">WHY YOU MATTER</h2>
        <p class="font-small text-lg italic mb-10">A glimpse of what makes you amazing</p>

        <div class="w-full max-w-sm space-y-8 mb-10 overflow-y-auto max-h-[50vh] px-6 py-4">
            <div class="reason-card">
                <div class="reason-icon">ðŸ˜†</div>
                <p class="font-bold text-orange-700 text-lg mb-1" style="color: var(--accent-dark);">Lucu</p>
                <p class="text-xs text-gray-500 italic">"Tingkah salting dan kayak anak kecil itu yang bikin aku suka."</p>
            </div>
            
            <div class="reason-card">
                <div class="reason-icon">ðŸ’ª</div>
                <p class="font-bold text-orange-700 text-lg mb-1" style="color: var(--accent-dark);">Kuat</p>
                <p class="text-xs text-gray-500 italic">"Jadwal yang sibuk kamu selalu bisa jaga badan kamu tetep fit."</p>
            </div>
            
            <div class="reason-card">
                <div class="reason-icon">âœ¨</div>
                <p class="font-bold text-orange-700 text-lg mb-1" style="color: var(--accent-dark);">Excited</p> 
                <p class="text-xs text-gray-500 italic">"Tiap malam kamu selalu nunggu aku call dan minta sleepcall."</p>
            </div>
            
            <div class="reason-card"> 
                <div class="reason-icon">ðŸ˜Œ</div>
                <p class="font-bold text-orange-700 text-lg mb-1" style="color: var(--accent-dark);">Penyabar</p>
                <p class="text-xs text-gray-500 italic">"Sabar karna kamu selalu nanggepin sifat ku."</p>
            </div>
            
            <div class="reason-card">
                <div class="reason-icon">ðŸ¥¹</div>
                <p class="font-bold text-orange-700 text-lg mb-1" style="color: var(--accent-dark);">Manja</p>
                <p class="text-xs text-gray-500 italic">"Selalu pengen dimanja lewat call sampe ketiduran."</p>
            </div>
            
            <div class="reason-card">
                <div class="reason-icon">ðŸ’¢</div>
                <p class="font-bold text-orange-700 text-lg mb-1" style="color: var(--accent-dark);">Ngambek</p>
                <p class="text-xs text-gray-500 italic">"Aku suka sama kamu selalu ngambek karna pengen aku di satu kota dan satu sekolah."</p>
            </div>
        </div>

        <div class="flex space-x-4">
            <button onclick="nextPage(5)" class="bg-white text-orange-500 border-2 border-orange-500 px-8 py-3 rounded-full font-bold shadow-lg" style="color: var(--accent-main); border-color: var(--accent-main);">Back</button>
            <button onclick="nextPage(7)" class="bg-orange-500 text-white px-10 py-3 rounded-full font-bold shadow-lg" style="background-color: var(--accent-main);">Continue ðŸ’Œ</button>
        </div>
    </div>

    <!-- PAGE 7: FINAL PAGE -->
    <div id="page7" class="page-container hidden-page">
        <h2 class="font-big text-2xl mb-6">Happy Birthday Sayangg</h2>
        
        <div id="final-box" class="w-full max-w-xs p-6 bg-orange-50 rounded-2xl border-2 border-orange-200 shadow-xl" style="background-color: var(--accent-light); border-color: #fed7aa;">
            <h3 class="font-bold text-orange-700 text-sm mb-3" style="color: var(--accent-dark);">Final Love LetterðŸ’Œ</h3>
            <div class="bg-white p-4 rounded-xl border border-orange-100 text-left mb-6 h-28 overflow-y-auto">
                <p id="type-p7" class="text-xs text-gray-700 italic leading-relaxed"></p>
            </div>

            <div class="flex justify-between items-center">
                <button onclick="nextPage(6)" class="text-orange-400 font-bold text-xs hover:underline" style="color: var(--accent-main);">back</button>
                <button onclick="sealIt()" class="bg-orange-500 text-white px-6 py-2 rounded-full font-bold text-xs shadow-md" style="background-color: var(--accent-main);">Seal It ðŸ§¡</button>
            </div>
        </div>

        <div id="seal-loading" class="hidden flex flex-col items-center mt-8">
            <div class="text-4xl animate-bounce">ðŸ§¡</div>
            <p class="font-big text-xl text-orange-600" style="color: var(--accent-main);">Sealing this with love</p>
        </div>

        <div id="final-sent" class="hidden w-full max-w-xs p-8 bg-orange-100 rounded-3xl border-4 border-white shadow-2xl flex flex-col items-center" style="background-color: var(--accent-light);">
            <div class="text-5xl mb-4">ðŸ§¡</div>
            <h2 class="font-big text-3xl text-orange-700 mb-1" style="color: var(--accent-dark);">Sent with Love</h2>
            <p class="font-small text-orange-400 text-sm mb-6" style="color: var(--accent-main);">Only For You</p>
            <div class="flex space-x-1 text-xl mb-6">ðŸ§¡ðŸ§¡ðŸ§¡ðŸ§¡ðŸ§¡ðŸ§¡ðŸ§¡</div>
            <div class="text-center text-orange-800 space-y-1 mb-8">
                <p class="font-bold text-md">From Yahyaaa</p>
                <p id="date-display" class="text-[10px] opacity-70"></p>
            </div>
            <button onclick="location.reload()" class="bg-white text-orange-500 border-2 border-orange-500 px-8 py-2 rounded-full font-bold text-sm" style="color: var(--accent-main); border-color: var(--accent-main);">see againâœ¨</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('sakura');
        const ctx = canvas.getContext('2d'); 
        let petals = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        class Petal {
            constructor() {
                this.reset();
            }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height - canvas.height;
                this.size = Math.random() * 5 + 5;
                this.speed = Math.random() * 1 + 0.5;
                this.angle = Math.random() * Math.PI * 2;
                this.spin = Math.random() * 0.05 - 0.025;
                this.horizontalSpeed = Math.random() * 1 - 0.5;
                // CHANGED PETAL COLOR TO ORANGE/WHITE FOR HAIKYUU
                const colors = ['rgba(249, 115, 22, 0.7)', 'rgba(255, 255, 255, 0.7)', 'rgba(251, 146, 60, 0.5)'];
                this.color = colors[Math.floor(Math.random() * colors.length)];
            }
            update() {
                this.y += this.speed;
                this.x += Math.sin(this.angle) * 0.5 + this.horizontalSpeed;
                this.angle += this.spin;
                if (this.y > canvas.height + 20) {
                    this.reset();
                }
            }
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.angle);
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.ellipse(0, 0, this.size, this.size * 0.6, 0, 0, Math.PI * 2);
                ctx.fill();
                ctx.strokeStyle = "rgba(255, 255, 255, 0.2)";
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(-this.size, 0);
                ctx.lineTo(this.size, 0);
                ctx.stroke();
                ctx.restore();
            }
        }

        for (let i = 0; i < 60; i++) petals.push(new Petal());

        function animateSakura() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            petals.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateSakura);
        }
        animateSakura();

        const audio = document.getElementById('bg-music');
        const defaultSong = 'https://birthdaysx.github.io/Musik/always-loved-you.mp3';
 
        function initExperience() {
            document.getElementById('page0').classList.add('hidden-page');
            const p1 = document.getElementById('page1'); p1.classList.remove('hidden-page'); p1.classList.add('fade-in-page');
            
            audio.src = defaultSong;
            audio.play().catch(err => console.log("Audio play failed"));

            const loader = document.getElementById('loader');
            let w = 0;
            const t = setInterval(() => {
                if (w >= 100) {
                    clearInterval(t);
                    setTimeout(() => nextPage(2), 500);
                } else {
                    w += 1;
                    loader.style.width = w + '%';
                }
            }, 30);
        }

        function playSong(url, element) {
            document.querySelectorAll('.cassette').forEach(c => c.classList.remove('playing'));
            element.querySelector('.cassette').classList.add('playing');
            audio.src = url;
            audio.play();
        }

        function nextPage(n) {
            document.querySelectorAll('.page-container').forEach(p => {
                p.classList.add('hidden-page');
                p.classList.remove('fade-in-page'); 
            });

            const targetPage = document.getElementById('page' + n);
            targetPage.classList.remove('hidden-page');
            
            void targetPage.offsetWidth; 
            targetPage.classList.add('fade-in-page');

            if (n === 7) {
                startTypewriterP7();
            }
        }

        function openEnvelope() {
            document.getElementById('envelope-wrapper').classList.add('hidden');
            document.getElementById('letter-opened').classList.remove('hidden');
            
            const txt = "Hii sayaaanggg, selamat ulangtahun yaaa. Maaf yaa aku ga bisa kamu hadiahh tapi aku bisa kamu hadiah seperti inii, aku bener bener sayang sama kamu dari awal sampai sekarang dan aku bener bener berusaha apapun itu semua demi kamu dan untuk kamu seneng. Semoga kamu seneng yaa meskipun hadiahnya cuma kayak gini, I love u so much darling ðŸ’—ðŸ’—.";
            const target = document.getElementById('type-p3');
            target.innerHTML = ""; 
            let i = 0;
            
            function type() {
                if (i < txt.length) {
                    target.innerHTML += txt.charAt(i);
                    i++;
                    setTimeout(type, 50);
                } else {
                    document.getElementById('btn-p3').classList.remove('hidden');
                }
            }
            setTimeout(type, 500);
        }

        function startTypewriterP7() {
            const txt = "Hi, this is more than just a massage about how much you mean to me. I hope this brings a smile to your face. You are the reason behind so much of my happiness, and I am so grateful to have you. Thank you for being such an incredible person. Happy Birthday, sayaaanggg.";
            const target = document.getElementById('type-p7');
            target.innerHTML = ""; 
            let i = 0;
            
            function type() {
                if (i < txt.length) {
                    target.innerHTML += txt.charAt(i);
                    i++;
                    target.parentElement.scrollTop = target.parentElement.scrollHeight;
                    setTimeout(type, 40);
                }
            }
            setTimeout(type, 800);
        }

        function sealIt() {
            document.getElementById('final-box').classList.add('hidden');
            document.getElementById('seal-loading').classList.remove('hidden');
            
            setTimeout(() => {
                document.getElementById('seal-loading').classList.add('hidden');
                document.getElementById('final-sent').classList.remove('hidden');
                
                const d = new Date();
                const opt = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                document.getElementById('date-display').innerText = d.toLocaleDateString('en-US', opt);
            }, 3000);
        }
    </script>
</body>
</html>